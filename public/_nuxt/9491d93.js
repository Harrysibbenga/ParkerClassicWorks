(window.webpackJsonp=window.webpackJsonp||[]).push([[37,47],{543:function(t,e,n){"use strict";n.r(e);n(69);var r={props:{msg:{type:Object,default:function(){return{type:"info"}}}},watch:{msg:function(t){var e=this;!0===t.status&&setTimeout((function(){e.msg.status=!1}),5e3)}}},l=n(22),o=n(19),c=n.n(o),m=n(538),d=n(532),component=Object(l.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-col",{staticClass:"text-center mt-2 d-none",class:{"d-block":t.msg.status},attrs:{cols:"12"}},[n("v-alert",{attrs:{color:t.msg.type}},[t._v("\n    "+t._s(t.msg.message)+"\n  ")])],1)}),[],!1,null,null,null);e.default=component.exports;c()(component,{VAlert:m.a,VCol:d.a})},816:function(t,e,n){"use strict";n.r(e);var r=n(22),l=n(19),o=n.n(l),c=n(133),m=n(532),d=n(537),v=n(529),f=n(117),component=Object(r.a)({},(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[[n("v-container",[n("v-row",{attrs:{align:"center"}},[n("v-col",{staticClass:"text-center py-16",attrs:{cols:"12",md:"6"}},[n("label",{staticClass:"text-h5 mx-auto",attrs:{for:"car-reg"}},[t._v("Enter your car registration:")]),t._v(" "),n("v-text-field",{staticClass:"white--text mt-4 mx-auto",staticStyle:{width:"500px"},attrs:{name:"car-reg",solo:"",dense:""},model:{value:t.reg,callback:function(e){t.reg=e},expression:"reg"}}),t._v(" "),n("v-btn",{staticClass:"rounded-pill pa-6 mt-n3",staticStyle:{width:"150px"},attrs:{color:"secondary","x-large":""},nativeOn:{click:function(e){return t.getReg.apply(null,arguments)}}},[t._v("Submit")]),t._v("\n          "+t._s(t.data)+"\n        ")],1),t._v(" "),n("v-col",{staticClass:"text-center",attrs:{cols:"12",md:"6"}},[t.mobile?n("v-btn",{staticClass:"rounded-pill pa-6 mt-n3",attrs:{color:"secondary","x-large":""},nativeOn:{click:function(e){return t.manualDialog.apply(null,arguments)}}},[t._v("Enter Manually")]):n("v-btn",{staticClass:"rounded-pill pa-6 mt-n3",attrs:{color:"secondary","x-large":""},nativeOn:{click:function(e){return t.manualDialog.apply(null,arguments)}}},[t._v("Manually submit details")])],1),t._v(" "),n("ui-message",{attrs:{msg:t.msg}}),t._v(" "),t.view?n("v-col",{staticClass:"py-10",attrs:{cols:"12"}},[n("v-row",{staticClass:"text-center"},[n("v-col",{attrs:{cols:"12",md:"4"}},[n("label",{staticClass:"text-h5 mx-auto",attrs:{for:"car-reg"}},[t._v("Make:")]),t._v(" "),n("v-text-field",{staticClass:"white--text mt-4 mx-auto",attrs:{name:"car-reg",solo:"",dense:""},model:{value:t.carInfo.make,callback:function(e){t.$set(t.carInfo,"make",e)},expression:"carInfo.make"}})],1),t._v(" "),n("v-col",{attrs:{cols:"12",md:"4"}},[n("label",{staticClass:"text-h5 mx-auto",attrs:{for:"car-reg"}},[t._v("Model:")]),t._v(" "),n("v-text-field",{staticClass:"white--text mt-4 mx-auto",attrs:{name:"car-reg",solo:"",dense:""},model:{value:t.carInfo.model,callback:function(e){t.$set(t.carInfo,"model",e)},expression:"carInfo.model"}})],1),t._v(" "),n("v-col",{attrs:{cols:"12",md:"4"}},[n("label",{staticClass:"text-h5 mx-auto",attrs:{for:"car-reg"}},[t._v("Year:")]),t._v(" "),n("v-text-field",{staticClass:"white--text mt-4 mx-auto",attrs:{name:"car-reg",solo:"",dense:""},model:{value:t.carInfo.year,callback:function(e){t.$set(t.carInfo,"year",e)},expression:"carInfo.year"}})],1)],1)],1):t._e(),t._v(" "),t.view?n("v-col",{attrs:{cols:"12"}},[n("v-row",{staticClass:"text-center"},[n("v-col",{attrs:{cols:"12",md:"6"}},[t.mobile?n("v-btn",{staticClass:"rounded-pill pa-6 mt-n3",attrs:{color:"secondary","x-large":""},nativeOn:{click:function(e){return t.manualDialog.apply(null,arguments)}}},[t._v("That’s my car")]):n("v-btn",{staticClass:"rounded-pill pa-md-6 mt-n3",attrs:{color:"secondary","x-large":""},nativeOn:{click:function(e){return t.confirm.apply(null,arguments)}}},[t._v("Okay, that’s my car")])],1),t._v(" "),n("v-col",{attrs:{cols:"12",md:"6"}},[t.mobile?n("v-btn",{staticClass:"rounded-pill pa-md-6 mt-n3",attrs:{color:"secondary","x-large":""},nativeOn:{click:function(e){return t.decline.apply(null,arguments)}}},[t._v("Not my car")]):n("v-btn",{staticClass:"rounded-pill pa-md-6 mt-n3",attrs:{color:"secondary","x-large":""},nativeOn:{click:function(e){return t.decline.apply(null,arguments)}}},[t._v("No, that’s not my car")])],1)],1)],1):t._e()],1)],1)],t._v(" "),n("script",[t._v("\n    export default {\n      props: {\n        data: {\n          type: Object,\n          default: () => ({}),\n        },\n      },\n      data() {\n        return {\n          reg: '',\n          msg: {\n            status: false,\n            message: '',\n            type: '',\n          },\n          view: false,\n        }\n      },\n      computed: {\n        result() {\n          return this.$store.getters['dvla/result']\n        },\n        error() {\n          return this.$store.getters['dvla/error']\n        },\n        carInfo() {\n          return this.data\n        },\n        mobile() {\n          switch (this.$vuetify.breakpoint.name) {\n            case 'xs':\n              return true\n            case 'sm':\n              return true\n            default:\n              return false\n          }\n        },\n      },\n      methods: {\n        getReg() {\n          // fetch('http://www.regcheck.org.uk/api/reg.asmx/Check', {\n          //   method: 'POST',\n          //   headers: {\n          //     'Content-Type': 'application/x-www-form-urlencoded',\n          //     'Content-Length': 'length',\n          //   },\n          //   data: { RegistrationNumber: this.reg, username: 'Torque' },\n          // })\n          //   .then((res) => res.json())\n          //   .then((response) => {\n          //     console.log(response)\n          //   })\n          const url = 'http://www.regcheck.org.uk/api/reg.asmx/Check'\n\n          const params = new URLSearchParams()\n          params.append('username', 'Torque')\n          params.append('RegistrationNumber', this.reg)\n\n          const config = {\n            headers: {\n              'Content-Type': 'application/x-www-form-urlencoded',\n            },\n          }\n\n          this.$axios\n            .post(url, params, config)\n            .then((response) => {\n              this.$emit('update:data', response.data)\n              this.view = true\n            })\n            .catch((error) => {\n              this.msg = {\n                type: 'error',\n                message: error.message,\n                status: true,\n              }\n            })\n        },\n        confirm() {\n          this.$emit('update:confirm', true)\n        },\n        decline() {\n          this.reset()\n        },\n        reset() {\n          this.$emit('update:data', {})\n          this.view = false\n        },\n      },\n    }\n  ")])],2)}),[],!1,null,null,null);e.default=component.exports;o()(component,{UiMessage:n(543).default}),o()(component,{VBtn:c.a,VCol:m.a,VContainer:d.a,VRow:v.a,VTextField:f.a})}}]);